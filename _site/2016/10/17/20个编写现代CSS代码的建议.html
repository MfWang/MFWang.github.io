<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" type="image/ico" href="/favicon.ico">
    <title>20个编写现代CSS代码的建议</title>
    <link rel="stylesheet" href="/css/main.css">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- 可选的 Bootstrap 主题文件（一般不用引入） -->
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <script src="/js/jquery-3.2.0.min.js"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

</head>
<body class="">
    <nav class="navbar navbar-default navbar-mfw">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">MF、W</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">MF、W</a>
    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        
          <li>
            <a class="header__link" href="/"> Home</a>
          </li>
        
          <li>
            <a class="header__link" href="/about.html"> About</a>
          </li>
        
          <li>
            <a class="header__link" href="/production.html"> Production</a>
          </li>
        
          <li>
            <a class="header__link" href="/resume.html"> Resume</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="post_banner">
    <div class="post_tags">
        
            <span class="post_tag_item"> webpack react</span>
        
    </div>
    <h1 class="post_banner_title">20个编写现代CSS代码的建议</h1>
    <h3 class="post_banner_time">Post By   [ 2016-10-17 00:00:00 +0800 ]</h3>
</div>
<div class="post_content">
    <article>
        <p><strong>明白何谓Margin Collapse</strong></p>

<p>不同于其他很多属性，盒模型中垂直方向上的Margin会在相遇时发生崩塌，也就是说当某个元素的底部Margin与另一个元素的顶部Margin相邻时，只有二者中的较大值会被保留下来，可以从下面这个简单的例子来学习:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>.square { 
    width: 80px; 
    height: 80px;
 }
 .red { 
    background-color: #F44336; 
    margin-bottom: 40px;
 }
 .blue { 
    background-color: #2196F3; 
    margin-top: 30px;
 }
</code></pre>
</div>

<p>在上述例子中我们会发现，红色和蓝色方块的外边距并没有相加得到70px，而是只有红色的下外边距保留了下来。我们可以使用一些<a href="http://stackoverflow.com/questions/19718634/how-to-disable-margin-collapsing">方法</a>来避免这种行为，不过建议来说还是尽量统一使用margin-bottom
属性，这样就显得和谐多了。</p>

<h3 id="使用flexbox进行布局">使用Flexbox进行布局</h3>

<blockquote>
  <p><a href="https://segmentfault.com/a/1190000004139009">CSS实战之Flex详解以及其在微信中的兼容实现</a></p>
</blockquote>

<p>在传统的布局中我们习惯使用Floats或者inline-blocks，不过它们更适合于格式化文档，而不是整个网站。而Flexbox则是专门的用于进行布局的工具。Flexbox模型允许开发者使用很多便捷可扩展的属性来进行布局，估计你一旦用上就舍不得了:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>.container { 
    display: flex; /* Don't forget to add prefixes for Safari */
    display: -webkit-flex;
 }
</code></pre>
</div>

<p>我们已经在Tutorialzine上提供了很多的关于Flexbox的介绍与小技巧，譬如<a href="http://tutorialzine.com/2016/04/5-flexbox-techniques-you-need-to-know-about/">5 Flexbox Techniques You Need to Know About</a>。</p>

<h3 id="使用css-reset">使用CSS Reset</h3>

<p>虽然这些年来随着浏览器的迅速发展与规范的统一，浏览器特性碎片化的情况有所改善，但是在不同的浏览器之间仍然存在着很多的行为差异。而解决这种问题的最好的办法就是使用某个CSS Reset来为所有的元素设置统一的样式，保证你能在相对统一干净的样式表的基础上开始工作。目前流行的Reset库有 <a href="http://necolas.github.io/normalize.css/">normalize.css,</a> <a href="http://jgthms.com/minireset.css/">minireset</a>以及 <a href="https://github.com/filipelinhares/ress">ress</a> ，它们都可以修正很多已知的浏览器之间的差异性。而如果你不打算用某个外在的库，那么建议可以使用如下的基本规则:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>* { 
    margin: 0; 
    padding: 0; 
    box-sizing: 
    border-box;
 }
</code></pre>
</div>

<p>上面的规则看起来没啥用，不过如果不同的浏览器在默认情况下为你设置了不同的外边距/内边距的默认值，还是会挺麻烦的。</p>

<h3 id="一切应为border-box">一切应为Border-box</h3>

<p>虽然很多初学者并不了解box-sizing这个属性，但是它确实相当的重要。而最好的理解它的方式就是看看它的两种取值:</p>

<ul>
  <li>
    <p>默认值为content-box，即当我们设置某个元素的heght/width属性时，仅仅会作用于其内容尺寸。而所有的内边距与边都是在其之上的累加，譬如某个&lt;div&gt;标签设置为宽100，内边距为10，那么最终元素会占用120(100 + 2*10)的像素。</p>
  </li>
  <li>
    <p>border-box:内边距与边是包含在了width/height之内，譬如设置了width:100px的&lt;div&gt;无论其内边距或者边长设置为多少，其占有的大小都是100px。</p>
  </li>
</ul>

<p>将元素设置为border-box会很方便你进行样式布局，这样的话你就可以在父元素设置高宽限制而不担心子元素的内边距或者边打破了这种限制。</p>

<h3 id="以背景图方式使用images">以背景图方式使用Images</h3>

<p>如果需要在响应式的环境下展示图片，有个简单的小技巧就是使用该图片作为某个&lt;div&gt;的背景图而不是直接使用img标签。基于这种方式配合上background-size与background-position这两个属性，可以很方便地按比例缩放:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>img { 
    width: 300px; 
    height: 200px;
}
div { 
    width: 300px; 
    height: 200px; 
    background: url('http://cdn.tutorialzine.com/wp-content/uploads/2016/08/bicycle.jpg'); 
    background-position: center center; 
    background-size: cover;
}
section{ 
    float: left; 
    margin: 15px;
}
</code></pre>
</div>

<p>不过这种方式也是存在缺陷的，譬如你无法设置图片的懒加载、图片无法被搜索引擎或者其他类似的工具抓取到，有个不错的属性叫<a href="http://tutorialzine.com/2016/04/quick-tip-get-to-know-css-object-fit-position/">object-fit</a>可以解决这个问题，不过该属性目前的浏览器支持并不是很完善。</p>

<h3 id="better-table-borders">Better Table Borders</h3>

<p>HTML中使用Tables进行布局一直是个很头疼的问题，它们使用起来很简单，但是无法进行响应式操作，并且也不方便进行全局样式设置。譬如，如果你打算为Table的边与单元的边添加样式，可能得到的结果如下:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>table { 
    width: 600px; 
    border: 1px solid #505050; 
    margin-bottom: 15px; 
    color:#505050;
}
td{ 
    border: 1px solid #505050; 
    padding: 10px;
}
</code></pre>
</div>

<p><img src="https://segmentfault.com/img/remote/1460000006834522" alt="" /></p>

<p>这里存在的问题是出现了很多的重复的边，会导致视觉上不协调的情况，那么我们可以通过设置border-collapse:collapse来进行处理:</p>

<p><img src="https://segmentfault.com/img/remote/1460000006834523" alt="" /></p>

<h3 id="注释格式优化">注释格式优化</h3>

<p>CSS虽然谈不上一门编程语言但是其仍然需要添加注释以保障整体代码的可读性，只要添加些简单的注释不仅可以方便你更好地组织整个样式表还能够让你的同事或者未来的自己更好地理解。对于CSS中整块的注释或者使用在Media-Query中的注释，建议是使用如下形式：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/*--------------- #Header---------------*/
header { }
header nav { }
/*--------------- #Slideshow---------------*/
.slideshow { }
</code></pre>
</div>

<p>而设计的细节说明或者一些不重要的组件可以用如下单行注释的方式:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* Footer Buttons */
.footer button { }
.footer button:hover  { }
</code></pre>
</div>

<p>同时，不要忘了CSS中是没有//
这种注释方式的:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* Do */
p { 
    padding: 15px; 
    /*border: 1px solid #222;*/
    }
/* Don't */
p { 
    padding: 15px; 
    // border: 1px solid #222; 
}
</code></pre>
</div>

<h3 id="使用kebab-case命名变量">使用Kebab-case命名变量</h3>

<p>对于样式类名或者ID名的命名都需要在多个单词之间添加-
符号，CSS本身是大小写不敏感的因此你是用不了camelCase的，另一方面，很久之前也不支持下划线，所以现在的默认的命名方式就是使用-
:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* Do */
.footer-column-left { }
/* Don't */
.footerColumnLeft { }
.footer_column_left { }
</code></pre>
</div>

<p>而涉及到具体的变量命名规范时，建议是使用<a href="https://en.bem.info/">BEM</a>规范，只要遵循一些简单的原则即可以保证基于组件风格的命名一致性。你也可以参考<a href="https://css-tricks.com/bem-101/">CSS Tricks</a>来获得更多的细节描述。</p>

<h3 id="避免重复代码">避免重复代码</h3>

<p>大部分元素的CSS属性都是从DOM树根部继承而来，这也是其命名为级联样式表的由来。我们以font属性为例，该属性往往是继承自父属性，因此我们并不需要再单独地为元素设置该属性。我们只需要在html或者body
中添加该属性然后使其层次传递下去即可:</p>

<blockquote>
  <p>html { font: normal 16px/1.4 sans-serif;}</p>
</blockquote>

<h3 id="使用transform添加css-animations">使用transform添加CSS Animations</h3>

<p>不建议直接改变元素的width与height属性或者left/top/bottom/right这些属性来达到动画效果，而应该优先使用transform()属性来提供更平滑的变换效果，并且能使得代码的可读性会更好:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>.ball { 
    left: 50px; 
    transition: 0.4s ease-out;
}
/* Not Cool*/
.ball.slide-out { 
    left: 500px;
}
/* Cool*/
.ball.slide-out { 
    transform: translateX(450px);
}
</code></pre>
</div>

<p>Transform的几个属性translate、rotate、scale都具有比较好的浏览器兼容性可以放心使用。</p>

<h3 id="不要重复造轮子">不要重复造轮子</h3>

<p>现在CSS社区已经非常庞大，并且不断地有新的各式各样的库开源出来。这些库可以帮助我们解决从小的代码片到用于构建完整的响应式应用的全框架。所以如果下次你再碰到什么CSS问题的时候，在打算撸起袖子自己上之前可以尝试在<a href="https://github.com/">GitHUB</a>或者<a href="http://codepen.io/">CodePen</a>上搜索可行方案。</p>

<h3 id="尽可能使用低优先级的选择器">尽可能使用低优先级的选择器</h3>

<p>并不是所有的CSS选择器的优先级都一样，很多初学者在使用CSS选择器的时候都是考虑以新的特性去复写全部的继承特性，不过这一点在某个元素多状态时就麻烦了，譬如下面这个例子:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>a{ 
    color: #fff; 
    padding: 15px;
}
a#blue-btn { 
    background-color: blue;
}
a.active { 
    background-color: red;
}
</code></pre>
</div>

<p>我们本来希望将.active类添加到按钮上然后使其显示为红色，不过在上面这个例子中很明显起不了作用，因为button已经以ID选择器设置过了背景色，也就是所谓的<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Specificity">Higher Selector Specificity</a>。一般来说，选择器的优先级顺序为：ID(#id) &gt; Class(.class) &gt; Type(header)</p>

<h3 id="避免使用important">避免使用!important</h3>

<p>认真的说，千万要避免使用!important，这可能会导致你在未来的开发中无尽的属性重写，你应该选择更合适的CSS选择器。而唯一的可以使用!important
属性的场景就是当你想去复写某些行内样式的时候，不过行内样式本身也是需要避免的。</p>

<h3 id="使用text-transform属性设置文本大写">使用text-transform属性设置文本大写</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;div class="movie-poster"&gt;
	Star Wars: The Force Awakens
&lt;/div&gt;
.movie-poster { 
    text-transform: uppercase;
}
</code></pre>
</div>

<h3 id="em-rem-以及-pixel">Em, Rem, 以及 Pixel</h3>

<p>已经有很多关于人们应该如何使用em，rem，以及px作为元素尺寸与文本尺寸的讨论，而笔者认为，这三个尺寸单位都有其适用与不适用的地方。不同的开发与项目都有其特定的设置，因此并没有通用的规则来决定应该使用哪个单位，这里是我总结的几个考虑:</p>

<ul>
  <li>
    <p>em – 其基本单位即为当前元素的font-size值，经常适用于media-queries中，em是特别适用于响应式开发中。</p>
  </li>
  <li>
    <p>rem – 其是相对于html属性的单位，可以保证文本段落真正的响应式尺寸特性。</p>
  </li>
  <li>
    <p>px – Pixels 并没有任何的动态扩展性，它们往往用于描述绝对单位，并且可以在设置值与最终的显示效果之间保留一定的一致性。</p>
  </li>
</ul>

<h3 id="在大型项目中使用预处理器">在大型项目中使用预处理器</h3>

<p>估计你肯定听说过 <a href="http://sass-lang.com/">Sass</a>, <a href="http://lesscss.org/">Less</a>, <a href="http://postcss.org/">PostCSS</a>, <a href="http://stylus-lang.com/">Stylus</a>这些预处理器与对应的语法。Preprocessors可以允许我们将未来的CSS特性应用在当前的代码开发中，譬如变量支持、函数、嵌套式的选择器以及很多其他的特性，这里我们以Sass为例:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$accent-color: #2196F3;
a { 
   padding: 10px 15px; 
   background-color: 
   $accent-color;
}
a:hover { 
   background-color: darken($accent-color,10%);
}
</code></pre>
</div>

<h3 id="使用autoprefixers来提升浏览器兼容性">使用Autoprefixers来提升浏览器兼容性</h3>

<p>使用特定的浏览器前缀是CSS开发中常见的工作之一，不同的浏览器、不同的属性对于前缀的要求也不一样，这就使得我们无法在编码过程中记住所有的前缀规则。并且在写样式代码的时候还需要加上特定的浏览器前缀支持也是个麻烦活，幸亏现在也是有很多工具可以辅助我们进行这样的开发:</p>

<ul>
  <li>
    <p>Online tools: <a href="https://autoprefixer.github.io/">Autoprefixer</a></p>
  </li>
  <li>
    <p>Text editor plugins: <a href="https://github.com/sindresorhus/sublime-autoprefixer">Sublime Text</a>, <a href="https://atom.io/packages/autoprefixer">Atom</a></p>
  </li>
  <li>
    <p>Libraries: <a href="https://github.com/postcss/autoprefixer">Autoprefixer</a> (PostCSS)</p>
  </li>
</ul>

<h3 id="在生产环境下使用minified代码">在生产环境下使用Minified代码</h3>

<p>为了提升页面的加载速度，在生产环境下我们应该默认使用压缩之后的资源代码。在压缩的过程中，会将所有的空白与重复剔除掉从而减少整个文件的体积大小。当然，经过压缩之后的代码毫无可读性，因此在开发阶段我们还是应该使用普通的版本。对于CSS的压缩有很多的现行工具:</p>

<ul>
  <li>
    <p>Online tools – <a href="https://cssminifier.com/">CSS Minifier</a> (API included), <a href="http://csscompressor.com/">CSS Compressor</a></p>
  </li>
  <li>
    <p>Text editor plugins: <a href="https://packagecontrol.io/packages/Minify">Sublime Text</a>, <a href="https://atom.io/packages/atom-minify">Atom</a></p>
  </li>
  <li>
    <p>Libraries: <a href="https://github.com/matthiasmullie/minify">Minfiy</a> (PHP), <a href="https://github.com/css/csso">CSSO</a> and <a href="http://cssnano.co/">CSSNano</a> (PostCSS, Grunt, Gulp)</p>
  </li>
</ul>

<p>选择哪个工具肯定是依赖于你自己的工作流啦~</p>

<h3 id="多参阅caniuse">多参阅Caniuse</h3>

<p>不同的浏览器在兼容性上差异很大，因此如果我们可以针对我们所需要适配的浏览器，在<a href="http://caniuse.com/">caniuse</a>上我们可以查询某个特性的浏览器版本适配性，是否需要添加特定的前缀或者在某个平台上是否存在Bug等等。不过光光使用caniuse肯定是不够的，我们还需要使用些额外的服务来进行检测。</p>

<h3 id="validate校验">Validate:校验</h3>

<p>对于CSS的校验可能不如HTML校验或者JavaScript校验那么重要，不过在正式发布之前用Lint工具校验一波你的CSS代码还是很有意义的。它会告诉你代码中潜在的错误，提示你一些不符合最佳实践的代码以及给你一些提升代码性能的建议。就像Minifers与Autoprefixers，也有很多可用的工具:</p>

<ul>
  <li>
    <p>Online tools: <a href="https://jigsaw.w3.org/css-validator/">W3 Validator</a>, <a href="http://csslint.net/">CSS Lint</a></p>
  </li>
  <li>
    <p>Text editor plugins: <a href="https://packagecontrol.io/packages/W3CValidators">Sublime Text</a>, <a href="https://atom.io/packages/csslint">Atom</a></p>
  </li>
  <li>
    <p>Libraries: <a href="http://stylelint.io/">stylelint</a> (Node.js, PostCSS), <a href="https://www.npmjs.com/package/css-validator">css-validator</a> (Node.js)</p>
  </li>
</ul>


    </article>
    <sidebar>
        
    </sidebar>
     <i class="iconfont icon_arrowtop" onclick="javascript:scrollTo(0,0);"></i> 
</div>


    
    <footer class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <div class="container">
        
            <a href="http://weibo.com/wmf755314203" target="_blank" class="footer_link">
                <i class="iconfont icon_sina"></i>
            </a>
        
            <a href="https://www.zhihu.com/people/MFWang_/activities" target="_blank" class="footer_link">
                <i class="iconfont icon_zhihu"></i>
            </a>
        
            <a href="http://www.jianshu.com/u/5ebd924cd5dc" target="_blank" class="footer_link">
                <i class="iconfont icon_jianshu"></i>
            </a>
        
            <a href="https://github.com/MfWang" target="_blank" class="footer_link">
                <i class="iconfont icon_github"></i>
            </a>
        
    </div>
</footer>
</body>
</html>